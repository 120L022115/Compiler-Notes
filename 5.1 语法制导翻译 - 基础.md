#### 5.1 语法制导翻译 - 基础

1. 语法制导翻译 = 语法分析 + 语义翻译 = 语法分析 + 语义分析 + 中间代码生成
   语义翻译：SDD（由语法树生成中间代码语法树）

2. 语义属性
   每个文法符号都具有若干语义属性。

   - 继承属性：由**父亲、兄弟**结点或**本身**计算得到

   - 综合属性：只能由子结点属性计算得到，终结符只有综合属性。

     ~词法分析中的TOKEN包含种别码和词法值，语法分析使用种别码选用产生式，语义分析根据词法值得到语义属性结果~

   - 虚继承/综合属性：带有副作用的属性，如打印、设置字符串表类型。

   - 注释分析树：带有属性值的语法树，继承属性写在左边，综合属性写在右边。对于虚属性也要写在对应位置，但没有属性名。

   - 属性文法：没有副作用属性的SDD。

3. SDD（语法制导定义）

   1. 对CFG的扩展
      对文法符号设置某些语义属性
      对产生式关联一组语义规则（语义动作）
   2. 依赖图：在注释分析树中，被依赖者用箭头指向依赖者。
   3. 由依赖图生成拓扑排序：是结点的序列；
      每一个拓扑排序对应了一种计算方法；
      如果图中没有环，一定存在一种拓扑排序；
      L/S-SDD一定没有环。
   4. S-SDD：只有综合属性，可以按照自底向上的方式进行计算。
      L-SDD：综合属性或满足条件的继承属性：继承只能使用**父结点**的**继承**属性或**左兄弟**属性 $\iff$ 依赖图同一级中只有从左向右的箭头

4. SDT（语法制导翻译方案）

   1. 条件：SDD无循环依赖才可转为SDT。
   2. 细化SDD的规则列表，指明SDD的每一条语义动作在产生式计算时的位置。
   3. S-SDD语义翻译可以在LR语法分析中同时运行。
      L-SDD语义翻译可以在LL语法分析中同时运行。
